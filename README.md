GIS in UE5

This project aims to create a basic GIS viewer inside of Unreal Engine 5 by taking advantage of the geometry script and shapefile reader (by Isara Tech.) plugins. A few warnings before using this project. Firstly the project is currently VERY memory intensive. On a PC with 64GB of RAM I find that it will crash after building around 15,000 pieces of data (where each piece of data has, on average, 30 vertexes). Secondly, I have yet to find a sorting algorthim within Unreal which allows for perfectly accurate data matching. This means the data displayed should not be used for any professional purpose. I made this as a fun test of my own skills and to learn more about the engine.

With all that out the way, how can you use this program? In brief, there are 2 maps you need to use to make it work:

1) The building map
2) The viewing map

To make it work open up the dynamic mesh test actor and paste in the location of your desired shapefile. Then let it build in the test map and view it in the viewing map. You may want to open the BP_GenerateMeshes blueprint (inside reset meshes) to remove the data the program comes with (although depending on the size of the shapefile this may not be necessary). To view data on the map copy the same location into the open DBF function inside of the BP_StaticMeshOnly blueprint. You will need figiure out which field value corresponds to what value in your shapefile and work from there. Again the data may be in the right place, but it also might be completely wrong... So take the data shown with a pinch of salt and don't use it for commercial or professional purposes.

The building map is an empty map with only a construction object included. This uses the geometry script to convert the shapefile data into chunks of 3D model data. These 3D models can be viewed in the viewing map. The project is set up to use with the 2019 English index of multiple deprivation, although it can be used with any shapefile. As far as I can tell (because there is very little documentation on the geometry script), it appears to consume resources exponentially as the number of verticies increases. Hence, by chunking the data, I can reset the geometry script process and create a more linear increase in resource use rather than an exponential one. Ideally, I would have a program run which would create chunks and save them to a storage device (removing them from memory) in real time, however, since geometry script only supports creating chunks within the construction script I need to generate the required number of chunks, then copy the correct mesh data into the these chunks. 

As a result, 2 blueprints need to be run to generate the script. The first is called BP_GenerateChunks and is located inside the resetmeshes folder. **WARNING: Since static meshes can only be created inside of the construction script opening this will reset all meshes to a basic cone**. The number of chunks can be determined by the number of times this program loops. The second is called BP_DynamicMeshTestActor. This program runs at runtime inside of the building map. Firstly, to remove any memory leaks the garbage collector is set to run every frame... This isn't in any way ideal but it does reduce the memory hit a bit, at the cost of performance. The assets created by BP_GenerateMeshes are then collected from the asset registry and stored in an array. The order in which data is collected appears to be somewhat random (or at least, I haven't figured it out yet). As a result the static meshes won't work from top to bottom. This is also why the data doesn't line up where it should. Since I don't (yet) understand how Unreal is pulling data from the asset registry I can't get the data to match to the correct location, hence causing inaccuracies in the data presentation. Still, it will generate a 3D model for you and colour it in!
